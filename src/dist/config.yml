server:
  applicationConnectors:
    - type: http
      port: ${PORT:-6600}
  adminConnectors:
    - type: http
      port: ${ADMIN_PORT:-6601}

httpClient:
  timeout: 15s
  timeToLive: 10m
  cookiesEnabled: false
  connectionTimeout: 15s
  minThreads: 8

logging:
  level: INFO
  loggers:
    uk.gov.ida: DEBUG
  appenders:
    - type: console
    - type: file
      currentLogFilename: logs/proxy-node.log
      archive: false

proxyNodeEntityId: ${PROXY_NODE_ENTITY_ID:-http://proxy-node.uk}
proxyNodeMetadataForConnectorNodeUrl: ${PROXY_NODE_METADATA_FOR_CONNECTOR_NODE_URL:-http://proxy-node-metadata:55000/local/metadata_for_connector_node.xml}

hubUrl: ${HUB_URL:-/stub-idp/request}

connectorNodeUrl: ${CONNECTOR_NODE_URL:-http://localhost:56001/ColleagueResponse}
connectorNodeMetadataUrl: ${CONNECTOR_NODE_METADATA_URL:-http://connector-node:8080/ConnectorResponderMetadata}
connectorNodeEntityId: ${CONNECTOR_NODE_ENTITY_ID:-http://connector-node:8080/ConnectorResponderMetadata}
connectorNodeIssuerId: ${CONNECTOR_NODE_ISSUER_ID:-http://connector-node:8080/ConnectorMetadata}

connectorMetadataConfiguration:
  url: ${CONNECTOR_NODE_METADATA_URL:-http://connector-node:8080/ConnectorResponderMetadata}
  expectedEntityId: ${CONNECTOR_NODE_ENTITY_ID:-http://connector-node:8080/ConnectorResponderMetadata}
  jerseyClientName: connector-metadata-client
  trustStore:
    path: ${CONNECTOR_NODE_METADATA_TRUSTSTORE_FILE:-build/resources/main/local/connectorNodeKeystore.jks}
    password: ${CONNECTOR_NODE_METADATA_TRUSTSTORE_PASSWORD:-Password}

hubMetadataConfiguration:
  url: ${HUB_METADATA_URL:-https://example.com}
  expectedEntityId: ${HUB_ENTITY_ID:-https://example.com}
  jerseyClientName: hub-metadata-client
  trustStore:
    path: ${HUB_METADATA_TRUSTSTORE_FILE:-build/resources/main/local/hub_metadata.ts}
    password: ${HUB_METADATA_TRUSTSTORE_PASSWORD:-marshmallow}

signingKeyPair:
  publicKey:
    type: file
    certFile: ${HUB_FACING_SIGNING_CERT_FILE:-build/resources/main/local/proxy_node_signing.crt}
    name: proxy_node_signing
  privateKey:
    keyFile: ${HUB_FACING_SIGNING_KEY_FILE:-build/resources/main/local/proxy_node_signing.pk8}

hubFacingEncryptionKeyPair:
  publicKey:
    type: file
    certFile: ${HUB_FACING_ENCRYPTION_CERT_FILE:-build/resources/main/local/proxy_node_encryption.crt}
    name: proxy_node_encryption
  privateKey:
    keyFile: ${HUB_FACING_ENCRYPTION_KEY_FILE:-build/resources/main/local/proxy_node_encryption.pk8}
